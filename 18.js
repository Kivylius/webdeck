(self.webpackChunkwebdeck=self.webpackChunkwebdeck||[]).push([["18"],{348:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var n,o=r("7030");function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var l=e=>o.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",className:"disconnect_svg__icon",viewBox:"0 0 1024 1024"},e),n||(n=o.createElement("path",{d:"M832.6 191.4c-84.6-84.6-221.5-84.6-306 0l-96.9 96.9 51 51 96.9-96.9c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204l-96.9 96.9 51.1 51.1 96.9-96.9c84.4-84.6 84.4-221.5-.1-306.1M446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l96.9-96.9-51.1-51.1-96.9 96.9c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l96.9-96.9-51-51zM260.3 209.4a8.03 8.03 0 0 0-11.3 0L209.4 249a8.03 8.03 0 0 0 0 11.3l554.4 554.4c3.1 3.1 8.2 3.1 11.3 0l39.6-39.6c3.1-3.1 3.1-8.2 0-11.3z"})))},9937:function(e,t,r){"use strict";r.r(t),r.d(t,{Controller:function(){return i},Settings:function(){return l},Wrapper:function(){return o}});var n=r("1893"),o=(0,n.default)("div")(function(){return{textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",width:"100vw"}}),i=(0,n.default)("div")({display:function(e){return e.$isOpen?"block":"none"},marginLeft:50,padding:"50px",paddingTop:"30px",border:"2px inset black",background:"rgb(21 21 21)",borderRadius:"20px",color:"white",maxHeight:"80vh",overflow:"auto",maxWidth:350,boxShadow:"-6px -20px 20px rgba(0,0,0,0.2), -6px -10px 15px rgba(0,0,0,0.2), -20px 0px 20px rgba(0,0,0,0.2), 6px 20px 20px rgba(0,0,0,0.2)"}),l=(0,n.default)("div")({color:"white",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"2px 0px"})},7059:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var n=r("5893"),o=r("8764"),i=r("9937"),l=r("9540"),u=r("4089"),a=r("3468"),c=r("1418"),s=r("5854"),f=r("6720"),p=r("5701"),d=r("4540"),y=r("4184"),b=r.n(y);window.Buffer=o.Buffer;var h=function(){var e,t=(0,f.useAppContext)(),r=t.deck,o=t.profiles;return(0,n.jsx)("div",{className:b()({wrapper:!0,hasDeck:!!r.current}),style:{position:"absolute",top:0,left:0,right:0,bottom:0},children:(0,n.jsx)(i.Wrapper,{children:r.current?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.Deck,{}),(0,n.jsxs)(i.Controller,{$isOpen:void 0!==r.selectedKey&&r.editMode,children:[(0,n.jsx)(c.Header,{}),(0,n.jsx)(a.Profiles,{}),void 0!==r.selectedKey&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.Settings,{children:[(0,n.jsx)(u.SubSubTitle,{children:"Currently selected key"}),(0,n.jsx)("button",{className:"s",disabled:!0,children:r.selectedKey})]}),(0,n.jsxs)(i.Settings,{children:[(0,n.jsx)(u.SubSubTitle,{children:"Subtitle"}),(0,n.jsx)("input",{value:(null===(e=o.profile.keys[r.selectedKey])||void 0===e?void 0:e.title)||"",onChange:function(e){return o.setTitle(r.selectedKey,e.target.value)},placeholder:"key subtitle"})]}),(0,n.jsxs)(i.Settings,{children:[(0,n.jsx)(u.SubSubTitle,{children:"Plugin"}),(0,n.jsx)(p.Plugins,{})]}),(0,n.jsx)(i.Settings,{children:(0,n.jsx)(d.Plugin,{})})]}),(0,n.jsx)("small",{style:{opacity:.5},children:"All changes are saved automaticly."}),window.location.search.includes("debug")&&(0,n.jsx)(s.Debugger,{})]})]}):(0,n.jsxs)("div",{style:{color:"white"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"WEB DECK"}),(0,n.jsx)("p",{children:"Connect your usb device or create a virtual device."}),(0,n.jsx)("br",{})]}),(0,n.jsx)("button",{onClick:r.tryGetPhysicalDeck,children:"Connect"}),(0,n.jsx)("small",{children:" -or- "}),(0,n.jsx)("button",{onClick:r.tryCreateVirtualDeck,children:"Create Virtual Device"})]})})})}},8612:function(e,t,r){"use strict";r.r(t),r.d(t,{Container:function(){return p}});var n=r("5893");r("7030");var o=r("745"),i=r("7059"),l=r("407"),u=r("5589"),a=r("6720"),c=r("3896"),s=r("2632"),f=r("3522"),p=function(){var e=(0,s.useProfiles)(),t=(0,c.usePlugins)(),r=(0,f.useDeck)(e,t);return(0,n.jsxs)(a.AppContext.Provider,{value:{deck:r,profiles:e,plugins:t},children:[window.location.search.includes("debug")&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:["version: ",u.version]}),(0,n.jsx)("div",{children:!t.initalised&&(0,n.jsx)(n.Fragment,{children:"initialising plugins..."})}),(0,n.jsx)("img",{id:"prev",src:"",style:{margin:10,border:"1px solid red"}})]}),(0,n.jsx)(i.default,{})]})};o.createRoot(document.getElementById("root")).render((0,n.jsx)(p,{})),(0,l.default)()},5854:function(e,t,r){"use strict";r.r(t),r.d(t,{Debugger:function(){return a}});var n=r("5893"),o=r("7030"),i=r("4089"),l=r("6720");function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var a=function(){var e,t,r=(0,l.useAppContext)(),a=r.profiles,c=r.plugins;var s=(e=(0,o.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],l=!0,u=!1;try{for(o=o.call(e);!(l=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){u=!0,n=e}finally{try{!l&&null!=o.return&&o.return()}finally{if(u)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=s[0],p=s[1];return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{justifyContent:"space-between",display:"flex",alignItems:"center",padding:"0 0 8px 0"},children:[(0,n.jsx)(i.SubSubTitle,{children:"debugging"}),(0,n.jsx)("button",{className:"s",onClick:function(){return p(!f)},children:f?" close":"open"})]}),(0,n.jsxs)("div",{style:{display:f?"block":"none",textAlign:"left"},children:[(0,n.jsx)("span",{children:"Profiles:"}),(0,n.jsx)("pre",{style:{width:350,textAlign:"left",background:"black"},children:JSON.stringify(a.profiles,null,4)}),(0,n.jsx)("span",{children:"Plugins:"}),(0,n.jsx)("pre",{style:{width:350,textAlign:"left",background:"black"},children:JSON.stringify(c.plugins,null,4)}),(0,n.jsx)("span",{children:"Manifest:"}),(0,n.jsx)("pre",{style:{width:350,textAlign:"left",background:"black"},children:JSON.stringify(c.manifests,null,4)})]})]})}},4700:function(e,t,r){"use strict";r.r(t),r.d(t,{HeaderWrapper:function(){return n}});var n=(0,r("1893").styled)("div")({display:"flex",justifyContent:"space-between",alignItems:"center",minWidth:350,paddingBottom:"8px",marginBottom:"10px",borderBottom:"1px solid #474747"})},1418:function(e,t,r){"use strict";r.r(t),r.d(t,{Header:function(){return u}});var n=r("5893"),o=r("4700"),i=r("501"),l=r("6720"),u=function(){var e=(0,l.useAppContext)().deck;return(0,n.jsxs)(o.HeaderWrapper,{children:[(0,n.jsx)(i.SubTitle,{children:"Settings"}),(0,n.jsx)("button",{title:"close",className:"s",onClick:function(){e.setSelectedKey(void 0),e.isVirtual&&e.setEditMode(!1)},children:"\xd7"})]})}},4540:function(e,t,r){"use strict";r.r(t),r.d(t,{Plugin:function(){return u}});var n=r("5893"),o=r("7030"),i=r("6720");function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var u=function(){var e,t,r=(0,i.useAppContext)(),u=r.plugins,a=r.profiles,c=r.deck;var s=(e=(0,o.useState)(null),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],l=!0,u=!1;try{for(o=o.call(e);!(l=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){u=!0,n=e}finally{try{!l&&null!=o.return&&o.return()}finally{if(u)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=s[0],p=s[1],d=c.selectedKey,y=a.profile.keys[d],b=u.getModule(null==y?void 0:y.plugin),h=u.status[null==y?void 0:y.plugin];return(0,o.useEffect)(function(){b?p((0,o.lazy)(function(){return Promise.resolve(b)})):p(null)},[b]),(0,n.jsx)("div",{style:{width:"100%",maxHeight:"400px",minHeight:"100px",outline:"none",margin:"8px 0",border:"2px solid black",position:"relative",textAlign:"left",borderRadius:10,overflow:"hidden"},children:(0,n.jsx)(o.Suspense,{fallback:"Loading System",children:f&&(null==y?void 0:y.config)&&b?(0,n.jsx)(f,{config:y.config,setConfig:function(e){a.setConfig(d,e)}},y.plugin+d):(null==h?void 0:h.loaded)===!1?(0,n.jsxs)("div",{style:{display:"flex",textAlign:"center",width:"100%",justifyContent:"center",alignItems:"center",height:"100px",color:"#cb0000",background:"#f7a5a5"},children:["Failed to load ",y.plugin," plugin!"]}):(0,n.jsx)("div",{})})})}},5701:function(e,t,r){"use strict";r.r(t),r.d(t,{Plugins:function(){return i}});var n=r("5893"),o=r("6720"),i=function(){var e,t=(0,o.useAppContext)(),r=t.profiles,i=t.deck,l=t.plugins,u=null===(e=r.profile.keys[i.selectedKey])||void 0===e?void 0:e.plugin;return(0,n.jsxs)("div",{children:[(0,n.jsxs)("select",{name:"plugins",id:"plugins",title:"select plugin",value:u||"",onChange:function(e){return r.setPlugin(e.target.value,i.selectedKey)},children:[(0,n.jsx)("option",{value:"",children:"select..."}),l.plugins.map(function(e){return(0,n.jsxs)("option",{value:e.name,children:[e.name," ",e.creator&&"@".concat(e.creator)]},e.name)})]}),(0,n.jsx)("button",{title:"remove plugin",className:"s",onClick:function(){return l.promptRemovePlugin(u,function(){r.removePlugin(u)})},disabled:!u,children:"-"}),(0,n.jsx)("button",{title:"add plugin",className:"s",onClick:l.promptAddPlugin,children:"+"})]})}},9753:function(e,t,r){"use strict";r.r(t),r.d(t,{ProfilesWrapper:function(){return n}});var n=(0,r("1893").default)("div")({color:"white",display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:"8px",marginBottom:"5px",borderBottom:"1px solid #474747"})},3468:function(e,t,r){"use strict";r.r(t),r.d(t,{Profiles:function(){return u}});var n=r("5893"),o=r("501"),i=r("9753"),l=r("6720"),u=function(){var e=(0,l.useAppContext)().profiles;return(0,n.jsxs)(i.ProfilesWrapper,{children:[(0,n.jsx)(o.SubTitle,{children:"Profiles"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("select",{name:"profile",id:"profile",title:"select profile",value:e.profileName,onChange:function(t){return e.setProfileName(t.target.value)},children:Object.keys(e.profiles).map(function(e){return(0,n.jsx)("option",{value:e,children:e},e)})}),(0,n.jsx)("button",{disabled:"default"===e.profileName,title:"remove profile",className:"s",onClick:e.promptRemoveProfile,children:"-"}),(0,n.jsx)("button",{title:"new profile",className:"s",onClick:e.promptAddProfile,children:"+"}),(0,n.jsx)("button",{title:"export profile",className:"s",onClick:e.promptExportProfile,children:"↗"})]})]})}},56:function(e,t,r){"use strict";r.r(t),r.d(t,{DeckButton:function(){return a},DeckButtonContent:function(){return s},DeckLayout:function(){return u},DeckTitle:function(){return l},DeckWrapper:function(){return i},DisconnectButton:function(){return c}});var n=r("1893"),o=r("348"),i=(0,n.default)("div")({padding:"50px",paddingTop:"30px",border:"2px inset black",background:"rgb(21 21 21)",borderRadius:"20px",boxShadow:"-6px -20px 20px rgba(0,0,0,0.2), -6px -10px 15px rgba(0,0,0,0.2), -20px 0px 20px rgba(0,0,0,0.2), 6px 20px 20px rgba(0,0,0,0.2)",position:"relative"}),l=(0,n.default)("h1")({display:"flex",alignItems:"center",justifyContent:"center",fontSize:20,paddingBottom:20,paddingTop:0,margin:0,color:"white",textTransform:"uppercase"}),u=(0,n.default)("div")(function(e){var t=e.$columns;return{display:"grid",gap:"20px",gridTemplateColumns:"repeat(".concat(t,", min-content)")}}),a=(0,n.default)("button")({display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid #888888",width:"77px",height:"77px",borderRadius:10,background:"red",position:"relative",padding:"0",backgroundColor:"rgb(37 37 37)",outline:"4px solid black",boxShadow:"-6px -20px 20px rgba(0,0,0,0.2), -6px -10px 15px rgba(0,0,0,0.2), -20px 0px 20px rgba(0,0,0,0.2), 6px 20px 20px rgba(0,0,0,0.2)",transition:".13s ease-in-out",cursor:"pointer","&:active:not(.editMode), &.active":{boxShadow:"none",border:"0px solid",backgroundColor:"rgb(35 35 35)","& > div":{boxShadow:"none",border:"0px solid","& > *":{transition:".13s ease-in-out",transform:"scale(0.9)"}}},"&.active":{},"&.selected":{outline:"2px dotted #ffffff",outlineOffset:"8px"},color:"white"}),c=(0,n.default)(o.default)({marginLeft:16,marginTop:3,height:18,width:18,fill:"white",opacity:.5,cursor:"pointer",transition:"all 300ms","&:hover":{opacity:1,fill:"red"}}),s=(0,n.default)("div")({position:"relative",width:"100%",height:"100%",boxShadow:"rgb(221, 221, 221) 0px 0px 0px inset, rgb(47 47 47) -2px -2px 0px",borderRadius:10,transition:".13s ease-in-out",zIndex:1,overflow:"hidden","& > *":{transition:".13s ease-in-out",transform:"scale(1)"}})},9540:function(e,t,r){"use strict";r.r(t),r.d(t,{Deck:function(){return s}});var n=r("5893"),o=r("4184"),i=r.n(o),l=r("56"),u=r("6720"),a=r("4755"),c=r("6020"),s=function(){var e,t,r,o=(0,u.useAppContext)().deck,s=(0,c.useDrawKey)().getContext;return(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,n.jsxs)(l.DeckWrapper,{children:[(0,n.jsxs)(l.DeckTitle,{children:[null===(e=o.current)||void 0===e?void 0:e.PRODUCT_NAME," ",(0,n.jsx)("span",{title:"Disconect device",children:(0,n.jsx)(l.DisconnectButton,{onClick:function(){return o.disconect()}})})]}),(0,n.jsx)(l.DeckLayout,{$columns:(null===(t=o.current)||void 0===t?void 0:t.KEY_COLUMNS)||0,children:Array.from({length:(null===(r=o.current)||void 0===r?void 0:r.NUM_KEYS)||0}).map(function(e,t){return(0,n.jsx)(l.DeckButton,{onMouseDown:function(){o.isVirtual&&!o.editMode&&o.onMouseDown(t)},onMouseUp:function(){o.isVirtual&&!o.editMode&&o.onMouseUp(t)},onClick:function(){o.editMode&&o.setSelectedKey(t)},className:i()({selected:o.editMode&&o.selectedKey===t,editMode:o.editMode}),children:(0,n.jsx)(l.DeckButtonContent,{children:(0,n.jsx)("img",{src:s(t).getSrc()})})},t)})})]}),(0,n.jsx)(a.DeckFooterText,{})]})}},4755:function(e,t,r){"use strict";r.r(t),r.d(t,{DeckFooterText:function(){return i}});var n=r("5893"),o=r("6720"),i=function(){var e=(0,o.useAppContext)().deck;return e.isVirtual?(0,n.jsxs)("small",{style:{color:"white",paddingTop:20,opacity:.2,fontSize:12},children:["You are currently in ",e.editMode?"Edit Mode":"Preview Mode",". Switch to"," ",(0,n.jsx)("a",{className:"a",href:"#",onClick:function(t){t.preventDefault(),e.setEditMode(!e.editMode),!e.editMode&&!e.selectedKey&&e.setSelectedKey(0)},children:e.editMode?"Preview Mode":"Edit Mode"})," ","to ",e.editMode?"test":"edit"," it."]}):null}},4089:function(e,t,r){"use strict";r.r(t),r.d(t,{SubSubTitle:function(){return n}});var n=(0,r("1893").default)("h3")({display:"inline-block",alignItems:"center",justifyContent:"center",fontSize:14,padding:0,margin:0,color:"white"})},501:function(e,t,r){"use strict";r.r(t),r.d(t,{SubTitle:function(){return n}});var n=(0,r("1893").default)("h2")({display:"flex",alignItems:"center",justifyContent:"center",fontSize:16,padding:0,margin:0,color:"white",textTransform:"uppercase"})},6720:function(e,t,r){"use strict";r.r(t),r.d(t,{AppContext:function(){return o},useAppContext:function(){return i}});var n=r("7030"),o=(0,n.createContext)({}),i=function(){return(0,n.useContext)(o)}},3522:function(e,t,r){"use strict";r.r(t),r.d(t,{useDeck:function(){return p}});var n=r("7030"),o=r("4778"),i=r("538"),l=r("6020");function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t,r,n,o,i,l){try{var u=e[i](l),a=u.value}catch(e){r(e);return}u.done?t(a):Promise.resolve(a).then(n,o)}function c(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function l(e){a(i,n,o,l,u,"next",e)}function u(e){a(i,n,o,l,u,"throw",e)}l(void 0)})}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],l=!0,u=!1;try{for(o=o.call(e);!(l=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){u=!0,n=e}finally{try{!l&&null!=o.return&&o.return()}finally{if(u)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){var r,n,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,n=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var p=function(e,t){var r=s((0,n.useState)(!0),2),u=r[0],a=r[1],p=s((0,n.useState)(0),2),d=p[0],y=p[1],b=s((0,n.useState)(),2),h=b[0],v=b[1],g=s((0,n.useState)(),2),m=g[0],x=g[1],w=(0,l.useDrawKey)().getContext,j=m||h,S=function(e){console.log("pressed key",e)},k=function(r){var n=e.profile.keys[r];if(null==n?void 0:n.plugin){var o,i,l=t.getModule(n.plugin);try{;l.onPress((o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,o,i;n=e,o=t,i=r[t],o in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})}return e}({},n),i={keyIndex:r,setIcon:function(t){return e.setIcon(r,t)}},i=null!=i?i:{},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))}),o))}catch(e){console.warn("Webdeck: Failed to execute ".concat(n.plugin,". Have you added and exported onPress() functions in you plugin?"),e)}}},O=(0,n.useCallback)(c(function(){var e;return f(this,function(t){switch(t.label){case 0:return[4,(0,i.requestPhysicalDeck)()];case 1:return(e=s.apply(void 0,[t.sent(),1])[0])?x(e):console.error("Couldn't get a Physical Deck"),[2]}})}),[]),P=(0,n.useCallback)(function(){var e=s((0,o.requestVirtualDecks)(),1)[0];e?v(e):console.error("Couldn't get a Virtual Deck")},[]),A=(0,n.useCallback)(c(function(){return f(this,function(e){return m?(m.close(),x(void 0)):h&&(h.close(),v(void 0)),[2]})}),[m,h]);return(0,n.useEffect)(function(){var e;(e=c(function(){var e,t;return f(this,function(r){switch(r.label){case 0:return[4,(0,i.getPhysicalDeck)()];case 1:return(e=s.apply(void 0,[r.sent(),1])[0])?x(e):(t=s((0,o.getVirtualDeck)(),1)[0])&&v(t),[2]}})}),function(){return e.apply(this,arguments)})()},[]),(0,n.useEffect)(function(){return m&&(m.on("down",S),m.on("up",k),m.drawKeys(function(r){var n=w(r,m,e,t).getData();null==m||m.fillKeyBuffer(r,Buffer.from(n.data),{format:"rgba"})})),function(){null==m||m.off("down",S),null==m||m.off("up",k)}},[m,h,e.profile.keys]),{isVirtual:!!h,isPhysical:!!m,initalised:!!j,current:j,selectedKey:d,editMode:u,onMouseDown:S,onMouseUp:k,setSelectedKey:y,disconect:A,tryGetPhysicalDeck:O,tryCreateVirtualDeck:P,setEditMode:a}}},6020:function(e,t,r){"use strict";r.r(t),r.d(t,{useDrawKey:function(){return i}});var n=r("8546"),o=r("6720"),i=function(){var e=(0,o.useAppContext)(),t=e.deck,r=e.profiles,i=e.plugins;return{getContext:function(e){var o,l,u,a,c,s,f,p,d,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.current,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i,v=b.profile.keys[e],g=null===(l=b.profile.keys[e])||void 0===l?void 0:null===(o=l.plugin)||void 0===o?void 0:o.replaceAll("-","_"),m=(null===(s=h.manifests[g])||void 0===s?void 0:null===(c=s.icons)||void 0===c?void 0:null===(u=c[null===(a=b.profile.keys[e])||void 0===a?void 0:a.icon])||void 0===u?void 0:u.icon)||(null===(d=h.manifests[g])||void 0===d?void 0:null===(p=d.icons)||void 0===p?void 0:null===(f=p.default)||void 0===f?void 0:f.icon),x=(null==y?void 0:y.ICON_SIZE)||72,w=(null==y?void 0:y.ICON_SIZE)||72,j=null==i?void 0:i.status[g],S=(0,n.getKeyImage)({width:x,height:w,key:e,config:v,icon:m,status:j});return{getSrc:function(){return S.canvas.toDataURL()},getData:function(){return S.ctx.getImageData(0,0,x,w,{colorSpace:"srgb"})},context:S}}}}},3896:function(e,t,r){"use strict";r.r(t),r.d(t,{usePlugins:function(){return h}});var n=r("7030"),o=r("3079"),i=r("7599"),l=r("8556");function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t,r,n,o,i,l){try{var u=e[i](l),a=u.value}catch(e){r(e);return}u.done?t(a):Promise.resolve(a).then(n,o)}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){c(e,t,r[t])})}return e}function f(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],l=!0,u=!1;try{for(o=o.call(e);!(l=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){u=!0,n=e}finally{try{!l&&null!=o.return&&o.return()}finally{if(u)throw n}}return i}}(e,t)||d(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}var y="./Plugin",b=new Map,h=function(){var e,t,r=p((0,i.useStorage)("plugins"),2),h=r[0],v=r[1],g=p((0,i.useStorage)("manifest",{}),2),m=g[0],x=g[1],w=p((0,n.useState)(!1),2),j=w[0],S=w[1],k=p((0,n.useState)({}),2),O=k[0],P=k[1],A=h.reduce(function(e,t){return f(s({},e),c({},t.name,t))},{}),C=function(e){var t;v(((function(e){if(Array.isArray(e))return u(e)})(t=h)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||d(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([e]))};var D=(t=(e=function(){var e,t;return function(e,t){var r,n,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,n=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,function(r){switch(r.label){case 0:if(!(e=prompt("Add url to plugin. List of plugins: https://github.com/search?q=topic:webdeck-plugin")))return[3,2];return[4,(0,l.fetchPlugin)(e)];case 1:(t=r.sent())&&C(t),r.label=2;case 2:return[2]}})},function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function l(e){a(i,n,o,l,u,"next",e)}function u(e){a(i,n,o,l,u,"throw",e)}l(void 0)})}),function(){return t.apply(this,arguments)});return(0,n.useEffect)(function(){S(!1);var e={name:"webdeck",remotes:h.map(function(e){return{name:e.name.replaceAll("-","_"),entry:"".concat(e.url,"remoteEntry.js")}})};(0,o.initalise)(e,y,b).then(function(e){console.log("modules",e),P(e),S(!0),x(Object.keys(e).reduce(function(t,r){var n,o;return f(s({},t),c({},r,(null===(o=e[r])||void 0===o?void 0:null===(n=o.module)||void 0===n?void 0:n.manifest)||{}))},{}))})},[h]),{initalised:j,plugins:h,pluginsById:A,status:O,manifests:m,setPlugins:v,addPlugin:C,promptAddPlugin:D,promptRemovePlugin:function(e,t){confirm("Are you sure you want to remove this plugin and everywhere where it was used? This action is not reversable.")&&(v(h.filter(function(t){return t.name!==e})),t())},getModule:function(e){var t="".concat(y,"-").concat(null==e?void 0:e.replaceAll("-","_"));return b.get(t)},getModules:function(){return b}}}},2632:function(e,t,r){"use strict";r.r(t),r.d(t,{useProfiles:function(){return b}});var n=r("7030");function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){i(e,t,r[t])})}return e}function u(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],l=!0,u=!1;try{for(o=o.call(e);!(l=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){u=!0,n=e}finally{try{!l&&null!=o.return&&o.return()}finally{if(u)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}function s(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}var f="profiles",p=function(){var e=localStorage.getItem(f);return e?l({},JSON.parse(e)):{default:{keys:{}}}},d=function(e){localStorage.setItem(f,JSON.stringify(e))},y=function(){return"default"},b=function(){var e=a((0,n.useState)(p()),2),t=e[0],r=e[1],o=a((0,n.useState)(y),2),s=o[0],f=o[1],b=t[s],h=function(e){r(function(t){var r=u(l({},t),i({},s,l({},t[s],e)));return d(r),r})},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:{}};r(function(r){var n=u(l({},r),i({},e,t));return d(n),n})};return{profiles:t,profile:b,profileName:s,setProfileName:f,setPlugin:function(e,t){h({keys:u(l({},b.keys),i({},t,{plugin:e,config:{},icon:"",title:"",loading:!1}))})},removePlugin:function(e){h({keys:l({},Object.keys(b.keys).reduce(function(t,r){var n=b.keys[r],o=e===n.plugin;return u(l({},t),i({},r,{plugin:o?"":n.plugin,config:o?{}:n.config,icon:o?"":n.icon,title:o?"":n.title,loading:!o&&n.loading}))},{}))})},updateProfile:h,addProfile:v,promptAddProfile:function(){var e=prompt("What the name of the profile? Using names that already exists, will overwirte you old profile! You can use a pipe (`|`) after the name, to provide the config.");if(e){var t,r=a(e.split("|"),2),n=r[0],o=r[1];try{var i=JSON.parse(o);i&&(t=i)}catch(e){console.log("invalid config provided")}console.log({name:n,config:o}),v(n,t),f(n)}},promptRemoveProfile:function(){confirm("Are you sure you want to delete this profile? These changes are inreversable.")&&r(function(e){e[s];var t=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++){if(r=i[n],!(t.indexOf(r)>=0))Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}}return o}(e,[s].map(c));return f("default"),l({},t)})},promptExportProfile:function(){prompt("Profile:","".concat(s,"|").concat(JSON.stringify(b)))},setConfig:function(e,t){h(u(l({},b),{keys:u(l({},b.keys),i({},e,u(l({},b.keys[e]),{config:t})))}))},setIcon:function(e,t){h(u(l({},b),{keys:u(l({},b.keys),i({},e,u(l({},b.keys[e]),{icon:t})))}))},setTitle:function(e,t){h(u(l({},b),{keys:u(l({},b.keys),i({},e,u(l({},b.keys[e]),{title:t})))}))},setLoading:function(e,t){h(u(l({},b),{keys:u(l({},b.keys),i({},e,u(l({},b.keys[e]),{loading:t})))}))}}}},7599:function(e,t,r){"use strict";r.r(t),r.d(t,{useStorage:function(){return l}});var n=r("7030");function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}}var l=function(e){var t,r,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var u=(t=(0,n.useState)(function(){var t,r=localStorage.getItem(e);if(r){if(void 0!==l.length){;return function(e){if(Array.isArray(e))return o(e)}(t=JSON.parse(r))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||i(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,o,i;n=e,o=t,i=r[t],o in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})}return e}({},JSON.parse(r))}return l}()),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],l=!0,u=!1;try{for(o=o.call(e);!(l=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){u=!0,n=e}finally{try{!l&&null!=o.return&&o.return()}finally{if(u)throw n}}return i}}(t,r)||i(t,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=u[0],c=u[1];return[a,function(t){return c(t),localStorage.setItem(e,JSON.stringify(t)),t}]}},407:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var n=function(e){var t,n;if(e&&(t=e,null!=(n=Function)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n))r.el("407@309:329").then(r.bind(r,"2131")).then(function(t){var r=t.getCLS,n=t.getFID,o=t.getFCP,i=t.getLCP,l=t.getTTFB;r(e),n(e),o(e),i(e),l(e)})}},8556:function(e,t,r){"use strict";r.r(t),r.d(t,{fetchPlugin:function(){return s}});var n,o=r("2869");function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t,r,n,o,i,l){try{var u=e[i](l),a=u.value}catch(e){r(e);return}u.done?t(a):Promise.resolve(a).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function u(e){l(i,n,o,u,a,"next",e)}function a(e){l(i,n,o,u,a,"throw",e)}u(void 0)})}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],l=!0,u=!1;try{for(o=o.call(e);!(l=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){u=!0,n=e}finally{try{!l&&null!=o.return&&o.return()}finally{if(u)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){var r,n,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,n=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var s=(n=u(function(e){return c(this,function(t){var r;return[2,new Promise((r=u(function(t){var r,n,i,l,u,s,f,p,d,y,b,h,v;return c(this,function(c){switch(c.label){case 0:if(c.trys.push([0,5,,6]),!e.includes("github.com"))return[3,3];return r=e.replace("https://github.com/","https://api.github.com/repos/"),[4,fetch(r)];case 1:return[4,c.sent().json()];case 2:if((n=c.sent())&&n.has_pages)i=n.homepage,u=(l=a(n.full_name.split("/"),2))[0],t({name:l[1],creator:u,versions:["1.0.0"],url:i});else throw Error("");return[3,4];case 3:if(e.includes("remoteEntry.js")){if(f=(s=a(e.split("?"),2))[0],p=s[1],y=(d=o.default.parse(p)).name,b=d.creator,h=d.v,y)t({name:y,creator:b,versions:[h],url:f.replace("remoteEntry.js","")});else throw Error("")}else throw Error("");c.label=4;case 4:return[3,6];case 5:return v=c.sent(),alert("Cound not add plugin, invalid url or repo provided."),console.error(v),t(null),[3,6];case 6:return[2]}})}),function(e){return r.apply(this,arguments)}))]})}),function(e){return n.apply(this,arguments)})},8546:function(e,t,r){"use strict";r.r(t),r.d(t,{getKeyImage:function(){return n}});var n=function(e){var t=e.width,r=e.height,n=e.config,o=e.icon,i=e.status,l=document.createElement("canvas");l.width=t,l.height=r;var u=l.getContext("2d");if(u.save(),u.clearRect(0,0,l.width,l.height),n){u.beginPath(),u.lineWidth=2,(null==i?void 0:i.loaded)?u.strokeStyle=u.fillStyle="#04df04":(null==i?void 0:i.loaded)===!1?u.strokeStyle=u.fillStyle="#FF0000":u.strokeStyle=u.fillStyle="gray",u.arc(6,6,1,0,2*Math.PI),u.stroke(),u.fill(),u.closePath(),u.save(),u.restore(),u.textRendering="geometricPrecision",u.letterSpacing="1px";u.font="".concat(10,'px "Arial"'),u.fillStyle="white",u.textAlign="center";var a=l.width/2;if(u.fillText(n.title,a,l.height-8,l.width),u.save(),u.restore(),o){var c=n.title?8:0,s=n.title?1.5:2,f=24*s,p=24*s;u.strokeStyle="#FFF",u.fillStyle="#FFF";var d=new Path2D(o);u.translate(a-f/2,a-p/2-c),u.scale(s,s),u.stroke(d),u.fill(d),u.save(),u.restore()}else{u.textRendering="geometricPrecision",u.letterSpacing="1px";u.font="".concat(14,'px "Arial"'),u.fontKerning="none",u.fillStyle="white",u.textAlign="center";var y=l.width/2;u.fillText(n.plugin,y,l.height-32,l.width)}}return{ctx:u,canvas:l}}},3079:function(e,t,r){"use strict";r.r(t),r.d(t,{initalise:function(){return p}});var n,o,i=r("4620"),l=r("6962"),u=r("1435");function a(e,t,r,n,o,i,l){try{var u=e[i](l),a=u.value}catch(e){r(e);return}u.done?t(a):Promise.resolve(a).then(n,o)}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){c(e,t,r[t])})}return e}function f(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}var p=(o=(n=function(e,t,r){return function(e,t){var r,n,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,n=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,function(n){return[2,new Promise(function(n){(0,i.init)(e);var o=[];e.remotes.forEach(function(e){o.push((0,l.loadScript)(e.entry,e.name))}),Promise.all(o).then(function(e){var o=[];e.forEach(function(e){e.loaded?o.push((0,u.loadModule)(e.name,t,r)):(console.error('Webdeck: Could not load script "'.concat(e.name,'" at ').concat(e.url),e.e),o.push(Promise.resolve({name:e.name,scope:t,module:void 0})))}),Promise.all(o).then(function(e){n(e.reduce(function(e,t){return f(s({},e),c({},t.name,f(s({},t),{loaded:!!t.module})))},{}))})})})]})},function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function l(e){a(i,r,o,l,u,"next",e)}function u(e){a(i,r,o,l,u,"throw",e)}l(void 0)})}),function(e,t,r){return o.apply(this,arguments)})},1435:function(e,t,r){"use strict";r.r(t),r.d(t,{loadModule:function(){return u}});var n,o,i=r("4620");function l(e,t,r,n,o,i,l){try{var u=e[i](l),a=u.value}catch(e){r(e);return}u.done?t(a):Promise.resolve(a).then(n,o)}var u=(o=(n=function(e,t,r){return function(e,t){var r,n,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,n=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,function(n){return[2,new Promise(function(n){var o="".concat(t,"-").concat(e);r.has(o)?n({name:e,scope:t,module:r.get(o)}):(0,i.loadRemote)("".concat(e.replaceAll("-","_"),"/").concat(t.slice(2))).then(function(i){r.set(o,i),n({name:e,scope:t,module:i})}).catch(function(){n({name:e,scope:t,module:void 0})})})]})},function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function u(e){l(i,r,o,u,a,"next",e)}function a(e){l(i,r,o,u,a,"throw",e)}u(void 0)})}),function(e,t,r){return o.apply(this,arguments)})},6962:function(e,t,r){"use strict";function n(e,t,r,n,o,i,l){try{var u=e[i](l),a=u.value}catch(e){r(e);return}u.done?t(a):Promise.resolve(a).then(n,o)}r.r(t),r.d(t,{loadScript:function(){return u}});var o,i,l=new Set;var u=(i=(o=function(e,t){return function(e,t){var r,n,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,n=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,function(r){return[2,new Promise(function(r){if(!e&&r({loaded:!1,url:e,name:t}),l.has(e)){r({loaded:!0,url:e,name:t});return}var n=document.createElement("script");n.src=e,n.type="text/javascript",n.async=!0,n.defer=!0,n.onload=function(){l.add(e),r({loaded:!0,url:e,name:t})},n.onerror=function(n){return r({loaded:!1,url:e,name:t,e:n})},document.head.appendChild(n)})]})},function(){var e=this,t=arguments;return new Promise(function(r,i){var l=o.apply(e,t);function u(e){n(l,r,i,u,a,"next",e)}function a(e){n(l,r,i,u,a,"throw",e)}u(void 0)})}),function(e,t){return i.apply(this,arguments)})},538:function(e,t,r){"use strict";r.r(t),r.d(t,{getPhysicalDeck:function(){return y},requestPhysicalDeck:function(){return b}});var n,o,i,l=r("9047");function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t,r,n,o,i,l){try{var u=e[i](l),a=u.value}catch(e){r(e);return}u.done?t(a):Promise.resolve(a).then(n,o)}function c(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function l(e){a(i,n,o,l,u,"next",e)}function u(e){a(i,n,o,l,u,"throw",e)}l(void 0)})}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],l=!0,u=!1;try{for(o=o.call(e);!(l=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){u=!0,n=e}finally{try{!l&&null!=o.return&&o.return()}finally{if(u)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){var r,n,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,n=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=(o=l.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var p=(n=c(function(){var e,t;return f(this,function(t){switch(t.label){case 0:return[4,navigator.hid.getDevices()];case 1:e=s.apply(void 0,[t.sent(),1])[0],t.label=2;case 2:return t.trys.push([2,5,,6]),[4,e.forget()];case 3:return t.sent(),[4,e.close()];case 4:case 5:return t.sent(),[3,6];case 6:return[2]}})}),function(){return n.apply(this,arguments)}),d=function(e,t){Array.from({length:e||0}).forEach(function(e,r){t(r)})};var y=(o=c(function(){var e;return f(this,function(t){switch(t.label){case 0:return[4,(0,l.getStreamDecks)()];case 1:if(e=s.apply(void 0,[t.sent(),1])[0])return e.close=p,e.drawKeys=function(t){return d(e.NUM_KEYS,t)},[2,[e]];return[2,[]]}})}),function(){return o.apply(this,arguments)});var b=(i=c(function(){var e;return f(this,function(t){switch(t.label){case 0:return[4,(0,l.requestStreamDecks)()];case 1:if(e=s.apply(void 0,[t.sent(),1])[0])return e.close=p,e.drawKeys=function(t){return d(e.NUM_KEYS,t)},[2,[e]];return[2,[]]}})}),function(){return i.apply(this,arguments)})},4778:function(e,t,r){"use strict";r.r(t),r.d(t,{getVirtualDeck:function(){return l},requestVirtualDecks:function(){return u}});var n="virtualdeck",o=function(){localStorage.removeItem(n)},i={default:{PRODUCT_NAME:"VirtualDeck 2x3",NUM_KEYS:6,KEY_COLUMNS:3,KEY_ROWS:2,ICON_SIZE:72,close:o}},l=function(){var e,t,r=localStorage.getItem(n);if(r){;return[(e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,o,i;n=e,o=t,i=r[t],o in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})}return e}({},JSON.parse(r)),t=(t={close:o},t),Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e)]}return[]},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=i[e];return localStorage.setItem(n,JSON.stringify(t)),[i[e]]}},5589:function(e){"use strict";e.exports=JSON.parse('{"name":"webdeck","version":"1.1.2","private":true,"dependencies":{"@babel/core":"7.23.7","@babel/preset-react":"7.23.3","@elgato-stream-deck/webhid":"^6.0.0","@module-federation/enhanced":"^0.0.9","@module-federation/runtime":"^0.0.10","@rspack/cli":"0.5.1","@rspack/core":"0.5.1","@rspack/dev-server":"0.5.1","@testing-library/jest-dom":"^5.17.0","@testing-library/react":"^13.4.0","@testing-library/user-event":"^13.5.0","@types/jest":"^27.5.2","@types/node":"^16.18.68","@types/react":"^18.2.45","@types/react-dom":"^18.2.18","babel-loader":"9.1.3","buffer":"^6.0.3","classnames":"^2.3.2","html-webpack-plugin":"5.6.0","install":"^0.13.0","npm":"^10.4.0","query-string":"^8.2.0","react":"^18.2.0","react-dom":"^18.2.0","styled-components":"^6.1.6","web-vitals":"^2.1.4"},"scripts":{"start":"rspack serve","build":"rspack --mode production --no-devtool","start-rc":"react-scripts start","build-rc":"react-scripts build","test-rc":"react-scripts test","eject-rc":"react-scripts eject"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@svgr/webpack":"^8.1.0","@types/styled-components":"^5.1.34","@typescript-eslint/eslint-plugin":"^6.21.0","@typescript-eslint/parser":"^6.21.0","eslint":"^8.56.0","eslint-config-prettier":"^9.1.0","eslint-config-standard-with-typescript":"^43.0.1","eslint-plugin-import":"^2.29.1","eslint-plugin-n":"^16.6.2","eslint-plugin-promise":"^6.1.1","eslint-plugin-react":"^7.33.2","typescript":"^5.3.3"}}')}}]);
//# sourceMappingURL=18.js.map